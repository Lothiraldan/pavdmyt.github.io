<!DOCTYPE html><html lang="en-us"><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="description" content="Python code to solve Project Euler's first ten problems. Examples of Python generators, lambda functions, slices and comprehensions usage. Math algorithms in Python."><meta name="author" content="Pavel Dmytrenko"><meta name="keywords" content="Python, Programming, Math, Algorithms"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Blog | Python solutions for the Project Euler (problems 1-10) &middot; Stochastic Stuff by Pavel Dmytrenko</title><link rel="stylesheet" href="/public/css/poole.css"><link rel="stylesheet" href="/public/css/lanyon.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"><link href="/atom.xml" rel="alternate" title="Atom" type="application/atom+xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68140687-1', 'auto');
  ga('send', 'pageview');</script></head><body><input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><div class="sidebar" id="sidebar"><div class="sidebar-item"><p>A place for Python, Math and maybe Science Fiction.</p></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="/"><svg class="icon-portal"></svg> Home</a> <a class="sidebar-nav-item" href="/about/"><svg class="icon-about"></svg> About</a> <a class="sidebar-nav-item" href="/archive/"><svg class="icon-archive"></svg> Archive</a> <a class="sidebar-nav-item" href="/tags/"><svg class="icon-tags"></svg> Tags</a></nav><div class="sidebar-item"><p>&copy; 2016. All rights reserved.</p></div></div><div class="wrap"><div class="masthead"><div class="container"><h3 class="masthead-title"><a href="/" rel="bookmark" title="Home" class="masthead-link">Stochastic Stuff</a> by <a href="/about/" rel="bookmark" title="About" class="masthead-link">Pavel Dmytrenko</a> <small></small> <a class="soc-icons" rel="bookmark" title="Atom feed" href="/atom.xml"><svg class="icon-rss"></svg></a> <a class="soc-icons" rel="external" title="@pavdmyt Twitter account" href="https://twitter.com/pavdmyt"><svg class="icon-bird"></svg></a> <a class="soc-icons" rel="external" title="My GitHub repos" href="https://github.com/pavdmyt"><svg class="icon-git"></svg></a></h3></div></div><div class="container content"><ul class="tags"><li><a href="/tags#python" class="tag">python</a></li><li><a href="/tags#math" class="tag">math</a></li><li><a href="/tags#ProjectEuler" class="tag">ProjectEuler</a></li><li><a href="/tags#algorithms" class="tag">algorithms</a></li></ul><div class="post"><h1 class="post-title">Python solutions for the Project Euler (problems 1-10)</h1><span class="post-date"><svg class="icon-calendar"></svg> 13 January 2016</span><p><img src="/public/images/pyler-min.jpg" alt="pic tag" class="center-image"></p><p>Once I have found <a href="https://projecteuler.net/">Project Euler’s website</a> and started writing scripts to solve <a href="http://static.projecteuler.net/">proposed problems</a>. I’m not a regular visitor there, but over time a small collection of solutions has emerged. So, I decided to put results in order, push them to <a href="https://github.com/pavdmyt/project-euler">GitHub</a> and share here a Python solutions for the first ten problems.</p><p>I think given examples may be helpful for Python beginners as mathematical nature of the problems assists in showing pure Python in action on the most abstract use cases. Solutions below contain examples of utilizing following Python concepts: <em>generators</em>, <code>lambda</code> <em>functions</em>, <em>slices</em>, <code>list</code> and <code>set</code> <em>comprehensions</em>.</p><p><strong>Spoiler Warning</strong></p><p><em>Subsequent sections provide ready-made solutions. It is highly recommended to read the next sections only if the subject problems are already solved by you. Otherwise it may cost you lots of inspirations and “Aha!” moments.</em></p><blockquote><p>Real learning is an active process and seeing how it is done is a long way from experiencing that epiphany of discovery.</p></blockquote><p><em>Jump to problem</em>: <a href="/python-solutions-project-euler-01-10/#problem-1">1</a> | <a href="/python-solutions-project-euler-01-10/#problem-2">2</a> | <a href="/python-solutions-project-euler-01-10/#problem-3">3</a> | <a href="/python-solutions-project-euler-01-10/#problem-4">4</a> | <a href="/python-solutions-project-euler-01-10/#problem-5">5</a> | <a href="/python-solutions-project-euler-01-10/#problem-6">6</a> | <a href="/python-solutions-project-euler-01-10/#problem-7">7</a> | <a href="/python-solutions-project-euler-01-10/#problem-8">8</a> | <a href="/python-solutions-project-euler-01-10/#problem-9">9</a> | <a href="/python-solutions-project-euler-01-10/#problem-10">10</a></p><h2 id="problem-1">Problem 1</h2><div style="font-family:courier new">Multiples of 3 and 5</div><blockquote><div style="font-size:90%"><p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.</p><p>Find the sum of all the multiples of 3 or 5 below 1000.</p></div></blockquote><p>The solution is to produce a list of multiples of 3 and 5 using a <em>list comprehension</em> combined with the <em>lambda function</em> to check if a number is a valid multiple, and then <code>sum</code> the resulted list:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">ismul</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
<span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">num</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="k">if</span> <span class="n">ismul</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="n">res</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_1.py">View at GitHub</a></p><h2 id="problem-2">Problem 2</h2><div style="font-family:courier new">Even Fibonacci numbers</div><blockquote><div style="font-size:90%"><p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p><p style="text-align:center">1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</p><p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p></div></blockquote><p>Let’s write a <em>generator</em> <code>genfib</code> for getting numbers from Fibonacci sequence and use <em>list comprehension</em> to create a list of the even Fibonacci numbers. Then <code>sum</code> the resulted list:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">LIMIT</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span>


<span class="k">def</span> <span class="nf">genfib</span><span class="p">(</span><span class="n">maxval</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">maxval</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">b</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">even_fib_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">num</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">genfib</span><span class="p">(</span><span class="n">LIMIT</span><span class="p">)</span> <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">even_fib_nums</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_2.py">View at GitHub</a></p><h2 id="problem-3">Problem 3</h2><div style="font-family:courier new">Largest prime factor</div><blockquote><div style="font-size:90%"><p>The prime factors of 13195 are 5, 7, 13 and 29.</p><p>What is the largest prime factor of the number 600851475143 ?</p></div></blockquote><p>This problem is the reference to the <a href="https://www.mathsisfun.com/numbers/fundamental-theorem-arithmetic.html">Fundamental Theorem of Arithmetic</a>. So, our goal is to find all <em>prime factors</em> of the given number, or perform what is known as <a href="http://www.mathsisfun.com/prime-factorization.html">prime factorization</a>. It is done by <code>prime_factors</code> function:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">prime_factors</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of primes factors for the given number.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">factors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c"># Handle 2</span>
    <span class="k">while</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">factors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">num</span> <span class="o">/=</span> <span class="mi">2</span>

    <span class="c"># Handle all odd nums &lt;= sqrt(num)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">while</span> <span class="n">num</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">factors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">num</span> <span class="o">/=</span> <span class="n">i</span>

    <span class="c"># Handle num is prime</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">factors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">factors</span></code></pre></div><p>Here is an <a href="http://www.geeksforgeeks.org/print-all-prime-factors-of-a-given-number/">explanation</a> of the implemented algorithm.</p><p>Now, having all prime factors, it’s easy enough to find the largest one:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">factors</span> <span class="o">=</span> <span class="n">prime_factors</span><span class="p">(</span><span class="mi">600851475143</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">factors</span><span class="p">))</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_3.py">View at GitHub</a></p><h2 id="problem-4">Problem 4</h2><div style="font-family:courier new">Largest palindrome product</div><blockquote><div style="font-size:90%"><p>A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 × 99.</p><p>Find the largest palindrome made from the product of two 3-digit numbers.</p></div></blockquote><p>Let’s find all possible products of two 3-digit numbers. It is done by <em>set comprehension</em> to avoid duplicate products. Then using <code>filter</code> we obtain only those products which are <em>palindromes</em>. The last step is simply to find <code>max</code>:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">rng</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">products_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="o">*</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">}</span>
<span class="n">is_palindrome</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">num</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">palindromes</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="n">is_palindrome</span><span class="p">,</span> <span class="n">products_set</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">palindromes</span><span class="p">))</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_4.py">View at GitHub</a></p><h2 id="problem-5">Problem 5</h2><div style="font-family:courier new">Smallest multiple</div><blockquote><div style="font-size:90%"><p>2520 is the smallest number that can be divided by each of the numbers from 1 to 10 without any remainder.</p><p>What is the smallest positive number that is evenly divisible by all of the numbers from 1 to 20?</p></div></blockquote><p><em>Evenly divisible</em> means here divisible with no remainder. The approach to this problem is a simple bruteforce with some tweaks to minimize the number of unnecessary iterations:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">is_divisible</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if number is evenly divisible by all</span>
<span class="sd">    of the numbers from 1 to 20.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">num</span> <span class="o">=</span> <span class="mi">2520</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_divisible</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
            <span class="k">break</span>
        <span class="n">num</span> <span class="o">+=</span> <span class="mi">20</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span></code></pre></div><p>First tweak is to exclude checks with 2, 5 and 10 inside <code>is_divisible</code> function. Checks with 2 are omitted because if number is divisible by any <em>even</em> number from the checklist, then it’s obviously also divisible by 2. Checks for 5 and 10 are excluded because these checks are covered by 15.</p><p>Second tweak is to iterate only over a multiples of 20. That’s simply because by description the required number should be divisible by 20. This also implicitly covers checks with 20 which are intentionally avoided inside <code>is_divisible</code> function. Sorry <em>Zen of Python</em>.</p><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_5.py">View at GitHub</a></p><h2 id="problem-6">Problem 6</h2><div style="font-family:courier new">Sum square difference</div><blockquote><div style="font-size:90%"><p>The sum of the squares of the first ten natural numbers is,</p><p style="text-align:center">1<sup>2</sup> + 2<sup>2</sup> + ... + 10<sup>2</sup> = 385</p><p>The square of the sum of the first ten natural numbers is,</p><p style="text-align:center">(1 + 2 + ... + 10)<sup>2</sup> = 55<sup>2</sup> = 3025</p><p>Hence the difference between the sum of the squares of the first ten natural numbers and the square of the sum is 3025 − 385 = 2640.</p><p>Find the difference between the sum of the squares of the first one hundred natural numbers and the square of the sum.</p></div></blockquote><p>The solution is straightforward:</p><ul><li>find sum of the squares of the first one hundred natural numbers using <em>list comprehension</em></li><li>find square of the sum by using <code>sum</code> on <code>range(101)</code></li><li>print the difference</li></ul><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Sum of the squares.</span>
<span class="n">a</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">101</span><span class="p">)])</span>

<span class="c"># Square of the sum.</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">101</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span>

<span class="c"># Result.</span>
<span class="k">print</span><span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_6.py">View at GitHub</a></p><h2 id="problem-7">Problem 7</h2><div style="font-family:courier new">10001st prime</div><blockquote><div style="font-size:90%"><p>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13, we can see that the 6th prime is 13.</p><p>What is the 10 001st prime number?</p></div></blockquote><p>The approach here is to iteratively perform a <a href="https://en.wikipedia.org/wiki/Primality_test">primality test</a> until 10 001<em>st</em> prime is found. Primality test is done via <code>is_prime</code> function which returns <code>True</code> if the input number is a <em>prime number</em> or <code>False</code> otherwise:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks that given number is a prime number.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">elif</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">elif</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span></code></pre></div><p>Implementation is based on dividing the given number <code>num</code> by numbers of the form 6<em>k</em> ± 1 less than or equal to <code>sqrt(num)</code> and checking if <code>num</code> is <em>divisible</em> by these numbers.</p><p>There are several optimizations adopted:</p><ol><li>We eliminate testing <em>even</em> divisors greater than 2.</li><li>We eliminate testing divisors greater than <code>sqrt(num)</code>.</li><li>Only divisors of the form 6<em>k</em> ± 1 are used.</li></ol><p>Why numbers of the form 6<em>k</em> ± 1 are so special? It is known that <em>all</em> integers can be expressed as 6<em>k</em> + <em>i</em>, where <em>k</em> - some integer and <em>i</em> = -1, 0, 1, 2, 3 or 4.</p><p>Therefore,</p><ul><li>if number leaves a remainder: <code>num % 6 == 0, 2 or 4</code> then it is <em>even</em> and therefore <em>non-prime</em> (unless it is 2)</li><li>if it leaves a remainder of 3: <code>num % 6 == 3</code>, it’s divisible of 3 and therefore <em>non-prime</em> (unless it is 3)</li><li>only remainders of 1 or 5 are left, which are numbers of the form 6<em>k</em> ± 1.</li></ul><p>Now, with <code>is_prime</code> function, solution is a simple loop which counts <em>primes</em> till it reaches 10 001st one:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="mi">10001</span><span class="p">:</span>
    <span class="n">num</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">num</span><span class="p">)</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_7.py">View at GitHub</a></p><h2 id="problem-8">Problem 8</h2><div style="font-family:courier new">Largest product in a series</div><blockquote><div style="font-size:90%"><p>The four adjacent digits in the 1000-digit number that have the greatest product are 9 × 9 × 8 × 9 = 5832.</p><p style="font-family:courier new;text-align:center">73167176531330624919225119674426574742355349194934<br>96983520312774506326239578318016984801869478851843<br>85861560789112949495459501737958331952853208805511<br>12540698747158523863050715693290963295227443043557<br>66896648950445244523161731856403098711121722383113<br>62229893423380308135336276614282806444486645238749<br>30358907296290491560440772390713810515859307960866<br>70172427121883998797908792274921901699720888093776<br>65727333001053367881220235421809751254540594752243<br>52584907711670556013604839586446706324415722155397<br>53697817977846174064955149290862569321978468622482<br>83972241375657056057490261407972968652414535100474<br>82166370484403199890008895243450658541227588666881<br>16427171479924442928230863465674813919123162824586<br>17866458359124566529476545682848912883142607690042<br>24219022671055626321111109370544217506941658960408<br>07198403850962455444362981230987879927244284909188<br>84580156166097919133875499200524063689912560717606<br>05886116467109405077541002256983155200055935729725<br>71636269561882670428252483600823257530420752963450<br></p><p>Find the thirteen adjacent digits in the 1000-digit number that have the greatest product. What is the value of this product?</p></div></blockquote><p>The solution consists from the function <code>get_product</code> which calculates products of the digits inside input string and the loop which slices 13-digit strings, calculates products and pushes results into the <code>products</code> list. Then maximal value from the <code>products</code> is printed:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">NUM</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">73167176531330624919225119674426574742355349194934</span>
<span class="s">96983520312774506326239578318016984801869478851843</span>
<span class="s">85861560789112949495459501737958331952853208805511</span>
<span class="s">12540698747158523863050715693290963295227443043557</span>
<span class="s">66896648950445244523161731856403098711121722383113</span>
<span class="s">62229893423380308135336276614282806444486645238749</span>
<span class="s">30358907296290491560440772390713810515859307960866</span>
<span class="s">70172427121883998797908792274921901699720888093776</span>
<span class="s">65727333001053367881220235421809751254540594752243</span>
<span class="s">52584907711670556013604839586446706324415722155397</span>
<span class="s">53697817977846174064955149290862569321978468622482</span>
<span class="s">83972241375657056057490261407972968652414535100474</span>
<span class="s">82166370484403199890008895243450658541227588666881</span>
<span class="s">16427171479924442928230863465674813919123162824586</span>
<span class="s">17866458359124566529476545682848912883142607690042</span>
<span class="s">24219022671055626321111109370544217506941658960408</span>
<span class="s">07198403850962455444362981230987879927244284909188</span>
<span class="s">84580156166097919133875499200524063689912560717606</span>
<span class="s">05886116467109405077541002256983155200055935729725</span>
<span class="s">71636269561882670428252483600823257530420752963450</span>
<span class="s">&quot;&quot;&quot;</span>


<span class="k">def</span> <span class="nf">get_product</span><span class="p">(</span><span class="n">num_str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a product of digits in the given `num_str`.</span>
<span class="sd">    42  -&gt; 4 * 2 = 8</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s">&#39;0&#39;</span> <span class="ow">in</span> <span class="n">num_str</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="n">res</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="n">num_str</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">*=</span> <span class="nb">int</span><span class="p">(</span><span class="n">digit</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c"># Remove newlines.</span>
    <span class="nb">input</span> <span class="o">=</span> <span class="n">NUM</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="n">products</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">NUM</span><span class="p">)):</span>
        <span class="n">num_slice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">13</span><span class="p">]</span>
        <span class="n">products</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_product</span><span class="p">(</span><span class="n">num_slice</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">products</span><span class="p">))</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_8.py">View at GitHub</a></p><h2 id="problem-9">Problem 9</h2><div style="font-family:courier new">Special Pythagorean triplet</div><blockquote><div style="font-size:90%"><p>A Pythagorean triplet is a set of three natural numbers, <var>a</var> &lt; <var>b</var> &lt; <var>c</var>, for which,</p><p style="text-align:center"><var>a</var><sup>2</sup> + <var>b</var><sup>2</sup> = <var>c</var><sup>2</sup></p><p>For example, 3<sup>2</sup> + 4<sup>2</sup> = 9 + 16 = 25 = 5<sup>2</sup>.</p><p>There exists exactly one Pythagorean triplet for which <var>a</var> + <var>b</var> + <var>c</var> = 1000.<br>Find the product <var>abc</var>.</p></div></blockquote><p>Here we need a way to generate <em>all</em> possible <em>pythagorean triples</em>, meaning both <em>primitive</em> and <em>non-primitive</em>, till triple (<em>a, b, c</em>) is found, where <em>a + b + c</em> = 1000. <a href="https://en.wikipedia.org/wiki/Formulas_for_generating_Pythagorean_triples#Dickson.27s_method">Dickson’s method</a> have been chosen for generating triples. It is easy to implement, fast enough and, most importantly, it generates <em>all</em> pythagorean triples.</p><h3 id="dicksons-method-in-a-nutshell">Dickson’s method in a nutshell</h3><blockquote><div style="font-size:90%"><p>To find integer solutions to <var>a</var><sup>2</sup> + <var>b</var><sup>2</sup> + <var>c</var><sup>2</sup>,<br>find positive integers <var>r</var>, <var>s</var>, and <var>t</var> such that <var>r</var><sup>2</sup> = 2<var>st</var><br>(<var>r</var> is any <i>even</i> integer).</p><p>Then:</p><p><var>a</var> = <var>r</var> + <var>s</var><br><var>b</var> = <var>r</var> + <var>t</var><br><var>c</var> = <var>r</var> + <var>s</var> + <var>t</var></p></div></blockquote><p><em>Example</em>:</p><blockquote><div style="font-size:90%"><p>Choose <var>r</var> = 4. Then <var>r</var><sup>2</sup> / 2 = 8.<br>The two factor-pairs of 8 are: (1, 8), (2, 4).</p><p>Every factor-pair will produce a triple using above equations:</p><p><var>s</var> = 1, <var>t</var> = 8 produces triple (5, 12, 13)<br><var>s</var> = 2, <var>t</var> = 4 produces triple (6, 8, 10)</p></div></blockquote><p>From the examples above it is clear that we need a means to generate a factor-pairs of the given number. Let’s implement this via following <em>generator</em>:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">gen_divisor_pairs</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates factor-pairs of the given number.</span>
<span class="sd">    E.g. factor-pairs of 18 are: (1, 18), (2, 9), (3, 6)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">divisor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">divisor</span><span class="p">,</span> <span class="n">num</span> <span class="o">//</span> <span class="n">divisor</span></code></pre></div><p>Now, having <code>gen_divisor_pairs</code> in our toolset, implementation of Dickson’s method is straightforward:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">gen_triples</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates Pythagorean triples using Dickson&#39;s method.</span>
<span class="sd">    To find triples: a^2 + b^2 = c^2,</span>
<span class="sd">    find ints r, s and t such that: r^2 = 2*s*t</span>
<span class="sd">    Then:</span>
<span class="sd">      a = r + s, b = r + t, c = r + s + t</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c"># any even int.</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">r</span><span class="o">**</span><span class="mi">2</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">pairs</span> <span class="o">=</span> <span class="p">[</span><span class="n">pair</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">gen_divisor_pairs</span><span class="p">(</span><span class="n">st</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">pair</span>
            <span class="k">yield</span> <span class="n">r</span> <span class="o">+</span> <span class="n">s</span><span class="p">,</span> <span class="n">r</span> <span class="o">+</span> <span class="n">t</span><span class="p">,</span> <span class="n">r</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">t</span>
        <span class="n">r</span> <span class="o">+=</span> <span class="mi">2</span></code></pre></div><p>Finally, let’s find a pythagorean triple for which <em>a</em> + <em>b</em> + <em>c</em> = 1000 and calculate a product of <em>abc</em>:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">triple</span> <span class="ow">in</span> <span class="n">gen_triples</span><span class="p">():</span>
    <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">triple</span>
        <span class="k">print</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">break</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_9.py">View at GitHub</a></p><h2 id="problem-10">Problem 10</h2><div style="font-family:courier new">Summation of primes</div><blockquote><div style="font-size:90%"><p>The sum of the primes below 10 is 2 + 3 + 5 + 7 = 17.</p><p>Find the sum of all the primes below two million.</p></div></blockquote><p>Here we need to find all primes below 2 000 000. To solve this problem we might have used <code>is_prime</code> function from <a href="/python-solutions-project-euler-01-10/#problem-7">Problem 7</a> to build a loop which checks <em>odd</em> numbers below two million and add them up if number being checked is <em>prime</em>. However such approach is very slow and inefficient. To find all <em>primes</em> below given number, commonly different kinds of <a href="http://mathworld.wolfram.com/Sieve.html">sieves</a> are used. We will utilize well-known <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">sieve of Eratosthenes</a> for our purposes:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">sieve_Erat</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all primes below given number.</span>
<span class="sd">    Sieve of Eratosthenes is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sieve</span> <span class="o">=</span> <span class="p">[</span><span class="bp">True</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sieve</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">sieve</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">::</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">False</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">sieve</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">::</span><span class="n">i</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">sieve</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span></code></pre></div><p>Here <em>list slice</em> notation is used to speed up the process. It can be further improved by skipping <em>even numbers</em> in all loops, etc. But it’s not done for the sake of simplicity. Check <a href="http://stackoverflow.com/a/2068548">fast sieve implementations in Python</a> if you want to challenge yourself.</p><p>Finally:</p><div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">res</span> <span class="o">=</span> <span class="n">sieve_Erat</span><span class="p">(</span><span class="mi">2000000</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">res</span><span class="p">))</span></code></pre></div><p><a href="https://github.com/pavdmyt/project-euler/blob/master/problem_10.py">View at GitHub</a></p><h2 id="summary">Summary</h2><p>Of course given examples may be simplified further or we can work hard on our algorithms to optimize performance or try more advanced techniques. My goal here was to find a balance between <em>simplicity</em> and <em>readability</em> vs <em>complexity</em> of adopted algorithms, leaving a space to demonstrate some of Python concepts.</p><br><p style="font-size:90%">Previous post: <a href="/how-to-implement-tags-at-jekyll-website">How to implement Tags at Jekyll website</a></p><p style="font-size:90%">Next post: <a href="/jekyll-dev-env-via-vagrant-and-puphpet">Jekyll development environment via Vagrant and PuPHPet</a></p></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'pavdmyt';
    var disqus_identifier = "/python-solutions-project-euler-01-10";  // Fixes issue with different disqus comments on page / and /index.html

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><div class="footer"><p class="copyright">&copy; Copyright 2016 by Pavel Dmytrenko.</p></div></div></div><label for="sidebar-checkbox" class="sidebar-toggle"></label><script>(function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);</script></body></html>